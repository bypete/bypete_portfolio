@utility form-base {
    @apply border-line bg-surface-raised px-fluid-2xs py-fluid-3xs placeholder:text-content/40 block rounded-xs border;
}

@utility form-focus {
    @apply focus:border-surface focus:ring-focus focus:ring-2 focus:outline-hidden;
}

@utility list-li-base {
    @apply pl-fluid-m list-none before:absolute before:top-0 before:left-0 before:w-6 before:leading-normal;
}

@utility label-base {
    @apply px-fluid-3xs py-fluid-3xs text-step--2 inline-block rounded-xs border align-text-bottom leading-none uppercase;
}

/* Add styles here to allow components to override them */

@layer components {
    /* Specific form elements */
    /* Remove spinner from number forms */
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    input[type='number'] {
        -moz-appearance: textfield;
    }

    .form__input,
    .form__select,
    .form__textarea {
        @apply form-base form-focus;
    }

    .form__input,
    .form__select,
    .form__textarea,
    .form__checkbox {
        &.error {
            @apply focus:border-focus focus:ring-focus border-transparent ring-2 ring-red-200;
        }
    }

    .form__input.readonly,
    .form__select.readonly {
        @apply pointer-events-none border border-gray-300 bg-gray-100 select-none focus:border-gray-300 focus:bg-gray-100 focus:ring-0 focus:outline-hidden;
    }

    .form__checkbox {
        @apply text-primary border-line form-focus rounded-xs border px-2 py-2;
    }

    .form__radio {
        @apply text-primary border-line form-focus border px-2 py-2;
    }

    /* Forms | Switch */
    .switch {
        @apply flex cursor-pointer items-center;
    }

    .switch__bg {
        @apply shadow-inset relative h-6 w-11 overflow-hidden rounded-full bg-gray-300 after:absolute after:top-0.5 after:left-0.5 after:h-5 after:w-5 after:rounded-full after:border-2 after:border-gray-400 after:bg-white after:shadow-xs after:transition;

        input:checked + &:after {
            @apply border-primary;
            transform: translateX(100%);
        }

        input:checked + & {
            @apply bg-primary;
        }
    }
    .switch__label {
        @apply mr-3;
    }

    /*--- Lists ---*/

    .list {
        @apply space-y-2 pl-0!;
        & li {
            @apply list-li-base;
            line-height: var(--leading-normal);
            position: relative;
        }
    }
    .list--bullet {
        & li {
            @apply before:i-ci-dummy-square-small before:text-primary before:translate-y-px before:text-[24px];
        }
    }
    .list--checklist {
        & li {
            @apply before:i-lucide-check-circle-2 before:text-teal-500;
        }
    }
    .list--counter {
        & > li {
            @apply pl-fluid-l relative list-none;
            counter-increment: a;
        }

        & > li:before {
            @apply top-fluid-3xs mr-fluid-xs h-fluid-m w-fluid-m bg-primary text-step-1 absolute left-0 block rounded-full text-center font-black text-white;
            content: counter(a);
        }
    }

    /*--- labels ---*/

    .label-info {
        @apply label-base border-brand bg-brand text-content-dark;
    }
    .label-disabled {
        @apply label-base text-content-dark/25 border-gray-300 bg-gray-300;
    }
    .label-alert {
        @apply label-base bg-warning text-content-light border-warning;
    }

    /*--- Animation ---*/

    [data-animate] {
        opacity: 0%;
    }

    /*--- Blockquotes ---*/

    blockquote {
        display: block;
        position: relative;
        text-align: left;
        margin-block: var(--spacing-fluid-l);
        padding-left: var(--spacing-fluid-xs);
        font-family: var(--font-Georgia);
        font-size: var(--text-step-1);

        &::before {
            display: block;
            font-size: 1.5em;
            color: var(--color-primary);
            line-height: 1;
        }

        @apply before:i-lucide-message-square-quote;

        cite {
            @apply mt-fluid-xs text-step-0 leading-fluid-m text-content-quiet mb-0 not-italic;
        }
    }
}
